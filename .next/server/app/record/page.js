(()=>{var e={};e.id=91,e.ids=[91],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},4300:e=>{"use strict";e.exports=require("buffer")},2583:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>n.a,__next_app__:()=>m,originalPathname:()=>x,pages:()=>d,routeModule:()=>u,tree:()=>c}),t(2003),t(5495),t(2523);var r=t(3191),a=t(8716),i=t(7922),n=t.n(i),l=t(5231),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);t.d(s,o);let c=["",{children:["record",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,2003)),"C:\\Users\\micha\\Desktop\\pronia_lovable\\src\\app\\record\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,5495)),"C:\\Users\\micha\\Desktop\\pronia_lovable\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.bind(t,2523)),"C:\\Users\\micha\\Desktop\\pronia_lovable\\src\\app\\not-found.tsx"]}],d=["C:\\Users\\micha\\Desktop\\pronia_lovable\\src\\app\\record\\page.tsx"],x="/record/page",m={require:t,loadChunk:()=>Promise.resolve()},u=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/record/page",pathname:"/record",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},8924:(e,s,t)=>{Promise.resolve().then(t.bind(t,3116))},8998:(e,s,t)=>{"use strict";t.d(s,{Z:()=>r});/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,t(2881).Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},4893:(e,s,t)=>{"use strict";t.d(s,{Z:()=>r});/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,t(2881).Z)("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]])},3116:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>N});var r=t(326),a=t(7518),i=t(9752),n=t(1664),l=t(1190),o=t(2015),c=t(955),d=t(2384),x=t(1810),m=t(8998),u=t(4893),p=t(2881);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let h=(0,p.Z)("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]),g=(0,p.Z)("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);var f=t(8775),b=t(9015);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let j=(0,p.Z)("MicOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2",key:"80xlxr"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5",key:"p2k8kg"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);var v=t(2933),y=t(7577);function N(){let{isPremium:e,isTrialActive:s,trialDaysRemaining:t,hasUsedTrial:p,startTrial:N,openPaywall:w,isPaywallOpen:k,closePaywall:S,upgradeToPremium:P}=(0,d.g)(),{addSession:C,sessions:_}=(0,x.r)(),[Z,z]=(0,y.useState)(!1),[M,q]=(0,y.useState)(0),[D,R]=(0,y.useState)(!1);(0,y.useRef)(null);let[U,T]=(0,y.useState)(!1),[$,A]=(0,y.useState)(!1),E=(0,y.useRef)(null),F=(0,y.useRef)([]),[G,I]=(0,y.useState)(!1),[O,B]=(0,y.useState)({piece:"",composer:"",notes:""}),L=e||s,H=e=>{let s=Math.floor(e/3600),t=Math.floor(e%3600/60),r=e%60;return s>0?`${s.toString().padStart(2,"0")}:${t.toString().padStart(2,"0")}:${r.toString().padStart(2,"0")}`:`${t.toString().padStart(2,"0")}:${r.toString().padStart(2,"0")}`},V=(0,y.useCallback)(async()=>{try{let e=await navigator.mediaDevices.getUserMedia({audio:!0});return A(!1),e.getTracks().forEach(e=>e.stop()),!0}catch{return A(!0),!1}},[]),W=async()=>{if(!L){w();return}if(await V())try{let e=await navigator.mediaDevices.getUserMedia({audio:!0}),s=new MediaRecorder(e);E.current=s,F.current=[],s.ondataavailable=e=>{F.current.push(e.data)},s.start(),T(!0)}catch(e){console.error("Failed to start recording:",e)}},X=()=>{E.current&&U&&(E.current.stop(),E.current.stream.getTracks().forEach(e=>e.stop()),T(!1))},J=_.slice(0,5);return(0,r.jsxs)(a.A,{streak:7,showBranding:!0,children:[r.jsx(c.x,{isOpen:k,onClose:S,onStartTrial:()=>{N(),S()},onSubscribe:P,hasUsedTrial:p}),(0,r.jsxs)("div",{className:"max-w-2xl mx-auto px-4 py-6",children:[s&&!e&&r.jsx("div",{className:"mb-4 p-3 bg-gradient-to-r from-orange-50 to-amber-50 border border-orange-200 rounded-xl",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[r.jsx(m.Z,{className:"h-4 w-4 text-orange-600"}),(0,r.jsxs)("span",{className:"text-sm font-medium text-orange-800",children:["Trial: ",t," day",1!==t?"s":""," remaining"]})]}),r.jsx(n.z,{size:"sm",variant:"ghost",className:"text-orange-600 hover:text-orange-700 hover:bg-orange-100 h-7 text-xs",onClick:w,children:"Upgrade"})]})}),G?(0,r.jsxs)(i.Zb,{className:"p-6",children:[(0,r.jsxs)("div",{className:"text-center mb-6",children:[r.jsx("div",{className:"inline-flex items-center justify-center h-16 w-16 rounded-full bg-green-100 mb-4",children:r.jsx(v.Z,{className:"h-8 w-8 text-green-600"})}),r.jsx("h2",{className:"text-xl font-bold mb-1",children:"Great Practice!"}),r.jsx("p",{className:"text-3xl font-mono font-bold text-accent",children:H(M)})]}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[r.jsx("label",{className:"text-sm font-medium mb-2 block",children:"What did you practice?"}),r.jsx(l.I,{placeholder:"e.g., Moonlight Sonata",value:O.piece,onChange:e=>B(s=>({...s,piece:e.target.value}))})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Composer (optional)"}),r.jsx(l.I,{placeholder:"e.g., Beethoven",value:O.composer,onChange:e=>B(s=>({...s,composer:e.target.value}))})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Notes (optional)"}),r.jsx(o.g,{placeholder:"How did the session go? Any breakthroughs?",value:O.notes,onChange:e=>B(s=>({...s,notes:e.target.value})),rows:3})]}),(0,r.jsxs)("div",{className:"flex gap-3 pt-4",children:[r.jsx(n.z,{variant:"outline",className:"flex-1",onClick:()=>{I(!1),q(0),B({piece:"",composer:"",notes:""})},children:"Discard"}),(0,r.jsxs)(n.z,{className:"flex-1",onClick:()=>{C({date:new Date().toISOString(),duration:M,piece:O.piece||void 0,composer:O.composer||void 0,notes:O.notes||void 0}),I(!1),q(0),B({piece:"",composer:"",notes:""})},children:[r.jsx(v.Z,{className:"mr-2 h-5 w-5"}),"Save Practice Log"]})]})]})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(i.Zb,{className:"p-8 mb-6 text-center",children:[(0,r.jsxs)("div",{className:"mb-8",children:[r.jsx("p",{className:"text-6xl font-mono font-bold tracking-tight mb-2",children:H(M)}),r.jsx("p",{className:"text-sm text-muted-foreground",children:Z?D?"Paused":"Practice in progress...":"Ready to practice"})]}),r.jsx("div",{className:"flex flex-col gap-3",children:Z?(0,r.jsxs)("div",{className:"flex gap-3",children:[r.jsx(n.z,{size:"lg",variant:"outline",className:"flex-1 h-14",onClick:()=>{R(!D)},children:D?(0,r.jsxs)(r.Fragment,{children:[r.jsx(u.Z,{className:"mr-2 h-5 w-5"}),"Resume"]}):(0,r.jsxs)(r.Fragment,{children:[r.jsx(h,{className:"mr-2 h-5 w-5"}),"Pause"]})}),(0,r.jsxs)(n.z,{size:"lg",variant:"destructive",className:"flex-1 h-14",onClick:()=>{z(!1),R(!1),X(),I(!0)},children:[r.jsx(g,{className:"mr-2 h-5 w-5"}),"End Practice"]})]}):(0,r.jsxs)(n.z,{size:"lg",className:"w-full h-14 text-lg font-semibold",onClick:()=>{z(!0),R(!1),q(0)},children:[r.jsx(u.Z,{className:"mr-2 h-5 w-5"}),"Start Practice"]})})]}),(0,r.jsxs)(i.Zb,{className:"p-6 mb-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:`h-10 w-10 rounded-full flex items-center justify-center ${U?"bg-red-100":L?"bg-muted":"bg-gray-100"}`,children:U?r.jsx(f.Z,{className:"h-5 w-5 text-red-600 animate-pulse"}):L?r.jsx(f.Z,{className:"h-5 w-5"}):r.jsx(b.Z,{className:"h-5 w-5 text-gray-400"})}),(0,r.jsxs)("div",{children:[r.jsx("h3",{className:"font-semibold",children:"Record Practice"}),r.jsx("p",{className:"text-xs text-muted-foreground",children:L?"Capture audio of your session":"Premium feature"})]})]}),L?Z?r.jsx(n.z,{size:"sm",variant:U?"destructive":"default",onClick:U?X:W,disabled:$,children:U?(0,r.jsxs)(r.Fragment,{children:[r.jsx(j,{className:"mr-1 h-4 w-4"}),"Stop"]}):(0,r.jsxs)(r.Fragment,{children:[r.jsx(f.Z,{className:"mr-1 h-4 w-4"}),"Record"]})}):r.jsx("span",{className:"text-xs text-muted-foreground",children:"Start practice first"}):r.jsx(n.z,{size:"sm",className:"bg-gradient-to-r from-orange-500 to-amber-500 text-white",onClick:w,children:p?"Upgrade":"Try Free"})]}),$&&r.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:r.jsx("p",{className:"text-sm text-red-700",children:"Microphone access denied. Please enable it in your browser settings."})})]}),(0,r.jsxs)(i.Zb,{className:"p-6",children:[r.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Recent Practice Sessions"}),0===J.length?(0,r.jsxs)("div",{className:"text-center py-8 text-muted-foreground",children:[r.jsx(m.Z,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),r.jsx("p",{className:"text-sm",children:"No practice sessions yet"}),r.jsx("p",{className:"text-xs mt-1",children:"Start practicing to see your history"})]}):r.jsx("div",{className:"space-y-3",children:J.map(e=>(0,r.jsxs)("div",{className:"flex items-center gap-4 p-3 bg-muted rounded-lg",children:[r.jsx("div",{className:"h-10 w-10 rounded-full bg-background flex items-center justify-center",children:r.jsx(m.Z,{className:"h-5 w-5"})}),(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"font-medium truncate",children:e.piece||"Practice Session"}),(0,r.jsxs)("p",{className:"text-sm text-muted-foreground",children:[new Date(e.date).toLocaleDateString()," â€¢ ",H(e.duration)]})]})]},e.id))})]})]})]})]})}},1190:(e,s,t)=>{"use strict";t.d(s,{I:()=>n});var r=t(326),a=t(7577),i=t(1223);let n=a.forwardRef(({className:e,type:s,...t},a)=>r.jsx("input",{type:s,className:(0,i.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:a,...t}));n.displayName="Input"},2015:(e,s,t)=>{"use strict";t.d(s,{g:()=>n});var r=t(326),a=t(7577),i=t(1223);let n=a.forwardRef(({className:e,...s},t)=>r.jsx("textarea",{className:(0,i.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:t,...s}));n.displayName="Textarea"},2003:(e,s,t)=>{"use strict";t.r(s),t.d(s,{$$typeof:()=>n,__esModule:()=>i,default:()=>l});var r=t(8570);let a=(0,r.createProxy)(String.raw`C:\Users\micha\Desktop\pronia_lovable\src\app\record\page.tsx`),{__esModule:i,$$typeof:n}=a;a.default;let l=(0,r.createProxy)(String.raw`C:\Users\micha\Desktop\pronia_lovable\src\app\record\page.tsx#default`)}};var s=require("../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),r=s.X(0,[948,571,859,805,227],()=>t(2583));module.exports=r})();