"use strict";(()=>{var t={};t.id=882,t.ids=[882],t.modules={399:t=>{t.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:t=>{t.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},5282:(t,e,r)=>{r.r(e),r.d(e,{originalPathname:()=>d,patchFetch:()=>h,requestAsyncStorage:()=>c,routeModule:()=>u,serverHooks:()=>l,staticGenerationAsyncStorage:()=>m});var a={};r.r(a),r.d(a,{GET:()=>n});var s=r(9303),o=r(8716),i=r(3131),p=r(7070);async function n(t){let e=t.headers.get("Authorization");if(!e||!e.startsWith("Bearer "))return p.NextResponse.json({error:"Unauthorized"},{status:401});let r=e.split(" ")[1];try{let t=await fetch("https://api.spotify.com/v1/me/top/tracks?limit=20&time_range=medium_term",{headers:{Authorization:`Bearer ${r}`}});if(!t.ok){let e=await t.json();return p.NextResponse.json({error:e},{status:t.status})}let e=await t.json(),a=e.items?.map(t=>({id:t.id,name:t.name,artist:t.artists.map(t=>t.name).join(", "),album:t.album.name,albumArt:t.album.images[0]?.url||""}))||[];return p.NextResponse.json({tracks:a})}catch(t){return console.error("Spotify top tracks error:",t),p.NextResponse.json({error:"Failed to fetch top tracks"},{status:500})}}let u=new s.AppRouteRouteModule({definition:{kind:o.x.APP_ROUTE,page:"/api/spotify/top-tracks/route",pathname:"/api/spotify/top-tracks",filename:"route",bundlePath:"app/api/spotify/top-tracks/route"},resolvedPagePath:"C:\\Users\\micha\\Desktop\\pronia_lovable\\src\\app\\api\\spotify\\top-tracks\\route.ts",nextConfigOutput:"",userland:a}),{requestAsyncStorage:c,staticGenerationAsyncStorage:m,serverHooks:l}=u,d="/api/spotify/top-tracks/route";function h(){return(0,i.patchFetch)({serverHooks:l,staticGenerationAsyncStorage:m})}}};var e=require("../../../../webpack-runtime.js");e.C(t);var r=t=>e(e.s=t),a=e.X(0,[948,972],()=>r(5282));module.exports=a})();