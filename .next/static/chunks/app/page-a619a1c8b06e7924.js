(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{4157:function(e,t,r){Promise.resolve().then(r.bind(r,8212))},8030:function(e,t,r){"use strict";r.d(t,{Z:function(){return o}});var s=r(2265);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),l=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim()};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var n={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let i=(0,s.forwardRef)((e,t)=>{let{color:r="currentColor",size:a=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:c="",children:d,iconNode:u,...m}=e;return(0,s.createElement)("svg",{ref:t,...n,width:a,height:a,stroke:r,strokeWidth:o?24*Number(i)/Number(a):i,className:l("lucide",c),...m},[...u.map(e=>{let[t,r]=e;return(0,s.createElement)(t,r)}),...Array.isArray(d)?d:[d]])}),o=(e,t)=>{let r=(0,s.forwardRef)((r,n)=>{let{className:o,...c}=r;return(0,s.createElement)(i,{ref:n,iconNode:t,className:l("lucide-".concat(a(e)),o),...c})});return r.displayName="".concat(e),r}},3274:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,r(8030).Z)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},7138:function(e,t,r){"use strict";r.d(t,{default:function(){return a.a}});var s=r(231),a=r.n(s)},6463:function(e,t,r){"use strict";var s=r(1169);r.o(s,"useParams")&&r.d(t,{useParams:function(){return s.useParams}}),r.o(s,"usePathname")&&r.d(t,{usePathname:function(){return s.usePathname}}),r.o(s,"useRouter")&&r.d(t,{useRouter:function(){return s.useRouter}})},8212:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return c}});var s=r(7437),a=r(9630),l=r(6463),n=r(2265),i=r(3274),o=r(7138);function c(){let{user:e,isLoading:t}=(0,a.a)(),r=(0,l.useRouter)();return((0,n.useEffect)(()=>{e&&!t&&r.push("/feed")},[e,t,r]),t)?(0,s.jsx)("div",{className:"min-h-screen bg-white flex items-center justify-center",children:(0,s.jsx)(i.Z,{className:"h-8 w-8 animate-spin text-black/30"})}):e?null:(0,s.jsxs)("div",{className:"min-h-screen bg-white text-black",children:[(0,s.jsx)("header",{className:"w-full py-6 px-6 flex justify-center",children:(0,s.jsx)("h1",{className:"text-3xl font-bold tracking-tight",style:{fontFamily:"Times New Roman, Georgia, serif"},children:"PRONIA"})}),(0,s.jsxs)("main",{className:"flex flex-col items-center justify-center px-6 py-20",children:[(0,s.jsxs)("div",{className:"max-w-2xl text-center mb-16",children:[(0,s.jsx)("h2",{className:"text-4xl md:text-5xl font-bold mb-6 leading-tight",children:"Track Your Musical Journey"}),(0,s.jsx)("p",{className:"text-lg md:text-xl text-gray-600 mb-12 max-w-lg mx-auto",children:"Practice smarter, connect with musicians, and watch your skills grow."}),(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[(0,s.jsx)(o.default,{href:"/login",className:"px-8 py-4 bg-black text-white font-semibold rounded-lg hover:bg-gray-900 transition-colors text-center min-w-[160px]",children:"LOG IN"}),(0,s.jsx)(o.default,{href:"/onboarding",className:"px-8 py-4 bg-white text-black font-semibold rounded-lg border-2 border-black hover:bg-gray-50 transition-colors text-center min-w-[160px]",children:"SIGN UP"})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 max-w-4xl w-full mb-20",children:[(0,s.jsxs)("div",{className:"text-center p-6",children:[(0,s.jsx)("div",{className:"w-12 h-12 bg-black rounded-full flex items-center justify-center mx-auto mb-4",children:(0,s.jsx)("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,s.jsx)("h3",{className:"font-semibold text-lg mb-2",children:"Track Practice"}),(0,s.jsx)("p",{className:"text-gray-600 text-sm",children:"Log your sessions and see your progress over time."})]}),(0,s.jsxs)("div",{className:"text-center p-6",children:[(0,s.jsx)("div",{className:"w-12 h-12 bg-black rounded-full flex items-center justify-center mx-auto mb-4",children:(0,s.jsx)("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0z"})})}),(0,s.jsx)("h3",{className:"font-semibold text-lg mb-2",children:"Connect"}),(0,s.jsx)("p",{className:"text-gray-600 text-sm",children:"Follow musicians and share your musical journey."})]}),(0,s.jsxs)("div",{className:"text-center p-6",children:[(0,s.jsx)("div",{className:"w-12 h-12 bg-black rounded-full flex items-center justify-center mx-auto mb-4",children:(0,s.jsx)("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19V6l12-3v13M9 19c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zm12-3c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zM9 10l12-3"})})}),(0,s.jsx)("h3",{className:"font-semibold text-lg mb-2",children:"Build Library"}),(0,s.jsx)("p",{className:"text-gray-600 text-sm",children:"Organize your repertoire and master new pieces."})]})]}),(0,s.jsxs)("section",{className:"w-full max-w-4xl",children:[(0,s.jsx)("h3",{className:"text-center text-sm font-semibold text-gray-400 uppercase tracking-wider mb-8",children:"What Musicians Are Saying"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,s.jsxs)("div",{className:"border border-gray-200 rounded-xl p-6 bg-gray-50",children:[(0,s.jsx)("p",{className:"text-gray-600 italic mb-4",children:"“Add your testimonial here...”"}),(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"w-10 h-10 bg-gray-300 rounded-full"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-semibold text-sm",children:"Name"}),(0,s.jsx)("p",{className:"text-xs text-gray-500",children:"Instrument"})]})]})]}),(0,s.jsxs)("div",{className:"border border-gray-200 rounded-xl p-6 bg-gray-50",children:[(0,s.jsx)("p",{className:"text-gray-600 italic mb-4",children:"“Add your testimonial here...”"}),(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"w-10 h-10 bg-gray-300 rounded-full"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-semibold text-sm",children:"Name"}),(0,s.jsx)("p",{className:"text-xs text-gray-500",children:"Instrument"})]})]})]})]})]})]}),(0,s.jsx)("footer",{className:"py-8 px-6 border-t border-gray-100",children:(0,s.jsxs)("div",{className:"max-w-4xl mx-auto flex flex-col md:flex-row items-center justify-between gap-4",children:[(0,s.jsx)("p",{className:"text-lg font-bold",style:{fontFamily:"Times New Roman, Georgia, serif"},children:"PRONIA"}),(0,s.jsx)("p",{className:"text-sm text-gray-500",children:"\xa9 2024 Pronia. All rights reserved."})]})})]})}},9630:function(e,t,r){"use strict";r.d(t,{H:function(){return o},a:function(){return c}});var s=r(7437),a=r(2265),l=r(4392),n=r(6463);let i=(0,a.createContext)(void 0),o=e=>{let{children:t}=e,r=(0,l.createClientComponentClient)(),o=(0,n.useRouter)(),[c,d]=(0,a.useState)(null),[u,m]=(0,a.useState)(null),[x,h]=(0,a.useState)(null),[f,g]=(0,a.useState)(!0),p=async e=>{let{data:t,error:s}=await r.from("profiles").select("*").eq("id",e).single();return s&&"PGRST116"!==s.code?(console.error("Error fetching profile:",s),null):t},v=async e=>{var t,s,a,l;let n=(null===(t=e.email)||void 0===t?void 0:t.split("@")[0])||"user_".concat(e.id.slice(0,8)),i=(null===(s=e.user_metadata)||void 0===s?void 0:s.full_name)||(null===(a=e.user_metadata)||void 0===a?void 0:a.name)||n,o={id:e.id,email:e.email||"",name:i,username:n,bio:"",avatar_url:(null===(l=e.user_metadata)||void 0===l?void 0:l.avatar_url)||null,instruments:[],experience_level:"",followers_count:0,following_count:0,is_premium:!1,trial_start_date:null},{data:c,error:d}=await r.from("profiles").upsert(o).select().single();return d?(console.error("Error creating profile:",d),null):c};(0,a.useEffect)(()=>{(async()=>{try{let{data:{session:e}}=await r.auth.getSession();if(null==e?void 0:e.user){h(e),d(e.user);let t=await p(e.user.id);t||(t=await v(e.user)),m(t)}}catch(e){console.error("Auth initialization error:",e)}finally{g(!1)}})();let{data:{subscription:e}}=r.auth.onAuthStateChange(async(e,t)=>{if(h(t),d((null==t?void 0:t.user)||null),null==t?void 0:t.user){var r;let s=await p(t.user.id);s||(s=await v(t.user)),m(s),"SIGNED_IN"!==e||(null==s?void 0:null===(r=s.instruments)||void 0===r?void 0:r.length)||o.push("/onboarding")}else m(null)});return()=>{e.unsubscribe()}},[r,o]);let w=async()=>{let{error:e}=await r.auth.signInWithOAuth({provider:"google",options:{redirectTo:"".concat(window.location.origin,"/auth/callback")}});if(e)throw console.error("Google sign in error:",e),e},b=async()=>{await r.auth.signOut(),d(null),m(null),h(null),o.push("/")},j=async e=>{if(!c)return;let{error:t}=await r.from("profiles").update(e).eq("id",c.id);if(t)throw console.error("Error updating profile:",t),t;await N()},N=async()=>{c&&m(await p(c.id))};return(0,s.jsx)(i.Provider,{value:{user:c,profile:u,session:x,isLoading:f,signInWithGoogle:w,signOut:b,updateProfile:j,refreshProfile:N},children:t})},c=()=>{let e=(0,a.useContext)(i);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}}},function(e){e.O(0,[231,392,971,23,744],function(){return e(e.s=4157)}),_N_E=e.O()}]);