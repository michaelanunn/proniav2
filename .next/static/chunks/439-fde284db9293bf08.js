"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[439],{1704:function(e,t,r){r.d(t,{A:function(){return P}});var a=r(7437),s=r(3765),l=r(2022),i=r(9733),n=r(2265),o=r(4042),c=r(2023),d=r(3402),m=r(897),u=r(4258),x=r(4697),h=r(9896),f=r(6463);let g=[{icon:l.Z,label:"Profile",path:"/profile"},{icon:o.Z,label:"Notifications",path:"/notifications"},{icon:c.Z,label:"Journal",path:"/journal"},{icon:d.Z,label:"Library",path:"/library"},{icon:m.Z,label:"Saved Posts",path:"/saved"},{icon:c.Z,label:"Log Practice",path:"/log-practice"},{icon:u.Z,label:"Settings",path:"/settings"}],p=e=>{let{isOpen:t,onClose:r}=e,s=(0,f.useRouter)();if(!t)return null;let n=e=>{s.push(e),r()};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"fixed inset-0 bg-black/50 z-50 animate-in fade-in",onClick:r}),(0,a.jsx)("div",{className:"fixed right-0 top-0 bottom-0 w-full max-w-sm bg-card z-50 shadow-2xl animate-in slide-in-from-right",children:(0,a.jsxs)("div",{className:"flex flex-col h-full",children:[(0,a.jsxs)("div",{className:"p-6 border-b border-border",children:[(0,a.jsx)(i.z,{variant:"ghost",size:"icon",className:"absolute right-4 top-4",onClick:r,children:(0,a.jsx)(x.Z,{className:"h-5 w-5"})}),(0,a.jsxs)("div",{className:"flex flex-col items-center text-center mt-8",children:[(0,a.jsx)("div",{className:"h-24 w-24 rounded-full bg-muted flex items-center justify-center mb-4",children:(0,a.jsx)(l.Z,{className:"h-12 w-12"})}),(0,a.jsx)("h2",{className:"text-xl font-bold",children:"Emma Smith"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"@emmasmith"})]})]}),(0,a.jsx)("div",{className:"flex-1 overflow-y-auto p-4",children:(0,a.jsx)("div",{className:"space-y-1",children:g.map(e=>(0,a.jsxs)("button",{onClick:()=>n(e.path),className:"w-full flex items-center gap-3 px-4 py-3 rounded-lg hover:bg-secondary transition-colors text-left",children:[(0,a.jsx)(e.icon,{className:"h-5 w-5"}),(0,a.jsx)("span",{className:"font-medium",children:e.label})]},e.path))})}),(0,a.jsx)("div",{className:"p-4 border-t border-border",children:(0,a.jsxs)(i.z,{variant:"ghost",className:"w-full justify-start gap-3 text-destructive hover:text-destructive",children:[(0,a.jsx)(h.Z,{className:"h-5 w-5"}),(0,a.jsx)("span",{className:"font-medium",children:"Log Out"})]})})]})})]})},b=e=>{let{streak:t=0,showBranding:r=!0}=e,[o,c]=(0,n.useState)(!1);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("header",{className:"fixed top-0 left-0 right-0 bg-background border-b border-border z-40 px-4 py-3",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("div",{className:"flex-1"}),r&&(0,a.jsx)("h1",{className:"absolute left-1/2 -translate-x-1/2 text-xl font-bold tracking-tight",style:{fontFamily:"Times New Roman, serif"},children:"PRONIA"}),(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 bg-secondary px-3 py-1.5 rounded-full",children:[(0,a.jsx)("span",{className:"text-sm font-semibold",children:t}),(0,a.jsx)(s.Z,{className:"h-4 w-4 text-[#ff6b35]"})]}),(0,a.jsx)(i.z,{variant:"ghost",size:"icon",className:"rounded-full h-9 w-9",onClick:()=>c(!0),children:(0,a.jsx)("div",{className:"h-8 w-8 rounded-full bg-muted flex items-center justify-center",children:(0,a.jsx)(l.Z,{className:"h-5 w-5"})})})]})]})}),(0,a.jsx)(p,{isOpen:o,onClose:()=>c(!1)})]})};var j=r(3852),v=r(7986),N=r(472),y=r(7140),w=r(7138),k=r(9354);let C=e=>{let{to:t,children:r,className:s,activeClassName:l}=e,i=(0,f.usePathname)();return(0,a.jsx)(w.default,{href:t,className:(0,k.cn)(s,i===t&&l),children:r})},S=[{icon:j.Z,label:"Home",path:"/"},{icon:v.Z,label:"Library",path:"/library"},{icon:N.Z,label:"Record",path:"/record"},{icon:y.Z,label:"Dashboard",path:"/dashboard"},{icon:l.Z,label:"Profile",path:"/profile"}],Z=()=>(0,a.jsx)("nav",{className:"fixed bottom-0 left-0 right-0 bg-card border-t border-border z-50",children:(0,a.jsx)("div",{className:"flex items-center justify-around h-16 px-2",children:S.map(e=>(0,a.jsxs)(C,{to:e.path,className:"flex flex-col items-center justify-center gap-1 px-3 py-2 rounded-lg transition-colors text-muted-foreground",activeClassName:"text-foreground bg-secondary",children:[(0,a.jsx)(e.icon,{className:"h-5 w-5"}),(0,a.jsx)("span",{className:"text-xs font-medium",children:e.label})]},e.path))})}),P=e=>{let{children:t,streak:r,showBranding:s=!0}=e;return(0,a.jsxs)("div",{className:"min-h-screen bg-background",children:[(0,a.jsx)(b,{streak:r,showBranding:s}),(0,a.jsx)("main",{className:"pt-16 pb-20",children:t}),(0,a.jsx)(Z,{})]})}},6986:function(e,t,r){r.d(t,{x:function(){return b}});var a=r(7437),s=r(4697),l=r(957),i=r(2468),n=r(9333),o=r(3907),c=r(3274),d=r(9733),m=r(2265),u=r(3537),x=r(357);let h=(0,u.J)("pk_live_51Sdp3ePwxnlJIe7lzFR6zklL2huywbXectg1R62jCTVjdsGzopZRdA7iiv35iTZjqiZ7uRlFZe5R9AF2JAx9ICui00zlV2DS0Y"),f=()=>{let[e,t]=(0,m.useState)(!1),[r,a]=(0,m.useState)(null);return{isLoading:e,error:r,startCheckout:async()=>{t(!0),a(null);try{let e=await fetch("/api/stripe/create-checkout",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({priceId:x.env.NEXT_PUBLIC_STRIPE_PRICE_ID})});if(!e.ok)throw Error("Failed to create checkout session");let{sessionId:t}=await e.json(),r=await h;if(r){let{error:e}=await r.redirectToCheckout({sessionId:t});if(e)throw e}}catch(e){a("Failed to start checkout. Please try again."),console.error("Checkout error:",e)}finally{t(!1)}},openCustomerPortal:async()=>{t(!0),a(null);try{let e=await fetch("/api/stripe/create-portal",{method:"POST"});if(!e.ok)throw Error("Failed to create portal session");let{url:t}=await e.json();window.location.href=t}catch(e){a("Failed to open customer portal."),console.error("Portal error:",e)}finally{t(!1)}}}};var g=r(4657);let p=["Unlimited practice recordings","AI-powered performance analysis","Progress insights & statistics","Cloud backup for all recordings","Custom themes & colors","Spotify integration","Priority support"],b=e=>{let{isOpen:t,onClose:r}=e,{isLoading:m,startCheckout:u}=f(),{hasUsedTrial:x,startTrial:h}=(0,g.g)();if(!t)return null;let b=async()=>{await u()},j=async()=>{try{await u(),h(),r()}catch(e){console.error("Error starting trial:",e)}};return(0,a.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm px-4",onClick:e=>{e.target===e.currentTarget&&r()},children:(0,a.jsxs)("div",{className:"relative w-full max-w-sm bg-white rounded-2xl shadow-2xl overflow-hidden animate-in zoom-in-95 fade-in duration-200",children:[(0,a.jsx)("button",{onClick:r,className:"absolute top-3 right-3 p-1.5 hover:bg-gray-100 rounded-full transition-colors z-10",children:(0,a.jsx)(s.Z,{className:"h-5 w-5 text-gray-500"})}),(0,a.jsxs)("div",{className:"bg-gradient-to-br from-orange-500 via-orange-400 to-amber-400 px-6 pt-8 pb-10 text-center",children:[(0,a.jsx)("div",{className:"inline-flex items-center justify-center h-16 w-16 rounded-full bg-white/20 backdrop-blur-sm mb-4",children:(0,a.jsx)(l.Z,{className:"h-8 w-8 text-white"})}),(0,a.jsx)("h2",{className:"text-2xl font-bold text-white mb-2",children:"Go Premium"}),(0,a.jsx)("p",{className:"text-white/90 text-sm",children:"Unlock the full power of Pronia"})]}),(0,a.jsxs)("div",{className:"px-6 py-6",children:[(0,a.jsx)("div",{className:"space-y-3 mb-6",children:p.map((e,t)=>(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"h-5 w-5 rounded-full bg-green-100 flex items-center justify-center flex-shrink-0",children:(0,a.jsx)(i.Z,{className:"h-3 w-3 text-green-600"})}),(0,a.jsx)("span",{className:"text-sm text-gray-700",children:e})]},t))}),(0,a.jsxs)("div",{className:"flex items-center gap-3 p-3 bg-orange-50 rounded-xl mb-6",children:[(0,a.jsx)("div",{className:"h-10 w-10 rounded-full bg-orange-100 flex items-center justify-center",children:(0,a.jsx)(n.Z,{className:"h-5 w-5 text-orange-600"})}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("p",{className:"font-semibold text-sm text-gray-900",children:"Recording + Themes"}),(0,a.jsx)("p",{className:"text-xs text-gray-500",children:"Unlock all premium features"})]}),(0,a.jsx)(o.Z,{className:"h-5 w-5 text-orange-500"})]}),(0,a.jsxs)("div",{className:"text-center mb-6",children:[(0,a.jsxs)("div",{className:"flex items-baseline justify-center gap-1",children:[(0,a.jsx)("span",{className:"text-3xl font-bold text-gray-900",children:"$9.99"}),(0,a.jsx)("span",{className:"text-gray-500 text-sm",children:"/month"})]}),(0,a.jsx)("p",{className:"text-xs text-gray-400 mt-1",children:"Cancel anytime"})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[x?(0,a.jsx)(d.z,{onClick:b,disabled:m,className:"w-full h-12 bg-gradient-to-r from-orange-500 to-amber-500 hover:from-orange-600 hover:to-amber-600 text-white font-semibold rounded-xl shadow-lg shadow-orange-500/25 disabled:opacity-70",children:m?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(c.Z,{className:"mr-2 h-4 w-4 animate-spin"}),"Loading..."]}):"Subscribe Now"}):(0,a.jsx)(d.z,{onClick:j,disabled:m,className:"w-full h-12 bg-gradient-to-r from-orange-500 to-amber-500 hover:from-orange-600 hover:to-amber-600 text-white font-semibold rounded-xl shadow-lg shadow-orange-500/25 disabled:opacity-70",children:m?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(c.Z,{className:"mr-2 h-4 w-4 animate-spin"}),"Loading..."]}):"Start 3-Day Free Trial"}),(0,a.jsx)("p",{className:"text-xs text-center text-gray-400",children:x?"Secure payment powered by Stripe":"Card required. No charge until trial ends."})]})]})]})})}},9733:function(e,t,r){r.d(t,{z:function(){return c}});var a=r(7437),s=r(2265),l=r(1538),i=r(3027),n=r(9354);let o=(0,i.j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=s.forwardRef((e,t)=>{let{className:r,variant:s,size:i,asChild:c=!1,...d}=e,m=c?l.g7:"button";return(0,a.jsx)(m,{className:(0,n.cn)(o({variant:s,size:i,className:r})),ref:t,...d})});c.displayName="Button"},8185:function(e,t,r){r.d(t,{Zb:function(){return i}});var a=r(7437),s=r(2265),l=r(9354);let i=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,l.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",r),...s})});i.displayName="Card",s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,l.cn)("flex flex-col space-y-1.5 p-6",r),...s})}).displayName="CardHeader",s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("h3",{ref:t,className:(0,l.cn)("text-2xl font-semibold leading-none tracking-tight",r),...s})}).displayName="CardTitle",s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("p",{ref:t,className:(0,l.cn)("text-sm text-muted-foreground",r),...s})}).displayName="CardDescription",s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,l.cn)("p-6 pt-0",r),...s})}).displayName="CardContent",s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,l.cn)("flex items-center p-6 pt-0",r),...s})}).displayName="CardFooter"},4657:function(e,t,r){r.d(t,{g:function(){return o},s:function(){return n}});var a=r(7437),s=r(2265);let l=(0,s.createContext)(void 0),i="pronia_premium_status",n=e=>{let{children:t}=e,[r,n]=(0,s.useState)(!1),[o,c]=(0,s.useState)(null),[d,m]=(0,s.useState)(!1),[u,x]=(0,s.useState)(!1);(0,s.useEffect)(()=>{let e=localStorage.getItem(i);if(e){let t=JSON.parse(e);n(t.isPremium),c(t.trialStartDate?new Date(t.trialStartDate):null),m(t.hasUsedTrial)}},[]),(0,s.useEffect)(()=>{let e={isPremium:r,trialStartDate:(null==o?void 0:o.toISOString())||null,hasUsedTrial:d};localStorage.setItem(i,JSON.stringify(e))},[r,o,d]);let{isActive:h,daysRemaining:f}=(()=>{if(!o)return{isActive:!1,daysRemaining:0};let e=new Date,t=new Date(o);t.setDate(t.getDate()+3);let r=Math.ceil((t.getTime()-e.getTime())/864e5);return{isActive:r>0,daysRemaining:Math.max(0,r)}})();return(0,a.jsx)(l.Provider,{value:{isPremium:r,isTrialActive:h,trialDaysRemaining:f,trialStartDate:o,hasUsedTrial:d,startTrial:()=>{d||(c(new Date),m(!0))},upgradeToPremium:()=>{n(!0),x(!1)},openPaywall:()=>x(!0),closePaywall:()=>x(!1),isPaywallOpen:u},children:t})},o=()=>{let e=(0,s.useContext)(l);if(void 0===e)throw Error("usePremium must be used within a PremiumProvider");return e}},9354:function(e,t,r){r.d(t,{cn:function(){return l}});var a=r(4839),s=r(6164);function l(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,s.m6)((0,a.W)(t))}}}]);